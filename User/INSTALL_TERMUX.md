# Установка Telegram UserBot в Termux

Это руководство поможет вам установить и настроить Telegram UserBot на вашем Android-устройстве с использованием приложения Termux.

## Предварительные требования

1. Установите [Termux](https://f-droid.org/en/packages/com.termux/) из F-Droid (предпочтительно) или Google Play
2. Получите API_ID и API_HASH от Telegram:
   - Перейдите на [my.telegram.org](https://my.telegram.org/)
   - Войдите в свой аккаунт Telegram
   - Перейдите в раздел "API development tools"
   - Создайте новое приложение, заполнив необходимые поля
   - Запишите полученные API_ID и API_HASH

## Установка

### Метод 1: Автоматическая установка

1. Откройте Termux и выполните следующую команду для загрузки установщика:

```bash
curl -sLo install.sh https://raw.githubusercontent.com/your-username/telegram-userbot/main/install_termux.sh && chmod +x install.sh && ./install.sh
```

2. Следуйте инструкциям на экране для завершения установки.

### Метод 2: Ручная установка

1. Откройте Termux и обновите пакеты:

```bash
pkg update -y && pkg upgrade -y
```

2. Установите необходимые пакеты:

```bash
pkg install -y python git
```

3. Установите pip и обновите его:

```bash
pkg install -y python-pip
pip install --upgrade pip
```

4. Установите необходимые Python-библиотеки:

```bash
pip install telethon python-dotenv cryptg
```

5. Создайте каталог для UserBot и перейдите в него:

```bash
mkdir -p ~/userbot
cd ~/userbot
```

6. Скачайте файлы UserBot:

Вы можете скачать файлы вручную или клонировать репозиторий, если доступен.

7. Создайте файл .env для API данных:

```bash
echo "# Telegram API данные" > .env
echo "API_ID=ваш_api_id" >> .env
echo "API_HASH=ваш_api_hash" >> .env
```

Замените `ваш_api_id` и `ваш_api_hash` на ваши настоящие данные.

## Запуск UserBot

1. После установки запустите UserBot командой:

```bash
cd ~/userbot
python log_management_main.py
```

2. При первом запуске вам потребуется ввести номер телефона и код подтверждения из Telegram.

3. После успешной авторизации UserBot будет запущен и готов к использованию.

## Доступные команды

UserBot поддерживает следующие команды:

- `/help` - Показать список доступных команд
- `/ping` - Проверить время отклика бота
- `/warn` - Выдать предупреждение пользователю
- `/tmute` - Временно заглушить пользователя
- `/chatstats` - Показать статистику чата
- `/userstats` - Показать статистику пользователя
- `/mention_all` - Упомянуть всех участников чата
- `/log` - Просмотр логов работы бота
- `/users` - Обновить список пользователей чата

Для модерации также доступны следующие команды:
- `/ban` - Блокировать пользователя в чате
- `/unban` - Разблокировать пользователя
- `/mute` - Заглушить пользователя в чате
- `/unmute` - Разглушить пользователя

## Автозапуск при старте Termux

Чтобы настроить автозапуск UserBot при старте Termux:

1. Создайте или отредактируйте файл `~/.bashrc`:

```bash
echo 'if [ -f "$HOME/userbot/start_userbot.sh" ]; then $HOME/userbot/start_userbot.sh; fi' >> ~/.bashrc
```

## Устранение неполадок

### Проблемы с подключением

1. Проверьте правильность API_ID и API_HASH в файле .env
2. Убедитесь, что у вас есть доступ в интернет
3. Проверьте, что ваш аккаунт не заблокирован и не имеет ограничений

### Ошибки при запуске

1. Проверьте, что все зависимости установлены:

```bash
pip install telethon python-dotenv cryptg
```

2. Проверьте наличие всех необходимых файлов в каталоге userbot

### Ошибки авторизации

1. При ошибках авторизации удалите файл сессии и попробуйте заново:

```bash
rm ~/userbot/userbot.session
```

2. Затем запустите UserBot снова и авторизуйтесь заново.

## Обновление UserBot

Для обновления UserBot вы можете использовать встроенный скрипт обновления:

```bash
cd ~/userbot
./update_userbot.sh
```

Скрипт автоматически проверит наличие обновлений, загрузит их и перезапустит UserBot при необходимости.

### Ручное обновление

Если автоматическое обновление не работает, вы можете обновить UserBot вручную:

```bash
cd ~/userbot
git pull origin main
pip install --upgrade -r requirements.txt
```

## Поддержка

Если у вас возникли проблемы или вопросы, обратитесь к разработчику.