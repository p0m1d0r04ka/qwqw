# Установка в Termux

Это руководство поможет вам установить и запустить Telegram UserBot в Termux на Android.

## Предварительные требования

1. Установленное приложение Termux из [F-Droid](https://f-droid.org/packages/com.termux/)
2. Доступ к интернету
3. API ID и API Hash от Telegram (получить можно на [my.telegram.org/apps](https://my.telegram.org/apps))

## Пошаговая инструкция

### 1. Обновление Termux

Запустите Termux и выполните следующие команды:

```bash
pkg update
pkg upgrade -y
```

### 2. Установка необходимых пакетов

```bash
pkg install -y python git 
```

### 3. Клонирование репозитория

```bash
git clone https://github.com/username/telegram-userbot
cd telegram-userbot
```

### 4. Запуск скрипта установки

Есть два варианта запуска:

#### Вариант 1: Простой запуск (рекомендуется)

Самый простой способ запустить бота:

```bash
chmod +x simple_start.sh
./simple_start.sh
```

Скрипт автоматически установит все необходимые зависимости и запросит API ID и API Hash при первом запуске.

#### Вариант 2: Расширенный запуск

Запуск с расширенными возможностями и проверками:

```bash
chmod +x termux_start.sh
./termux_start.sh
```

### 5. Первый запуск и авторизация

При первом запуске вам нужно будет:

1. Ввести свой номер телефона в формате `+7XXXXXXXXXX`
2. Ввести код подтверждения, полученный в Telegram
3. Если у вас включена двухфакторная аутентификация, ввести пароль

После успешной авторизации скрипт создаст файл сессии, и вам не придётся авторизовываться повторно.

## Использование бота

После запуска вы можете использовать следующие команды в любом чате:

- `/help` - Список всех доступных команд
- `/ping` - Проверка работоспособности бота

### Команды модерации:

- `/clear_all` - Очистить все сообщения (требуются права администратора)
- `/clear_user @username` - Очистить сообщения пользователя
- `/ban @username` - Заблокировать пользователя
- `/unban @username` - Разблокировать пользователя
- `/mute @username` - Отключить пользователю возможность писать сообщения
- `/unmute @username` - Включить пользователю возможность писать сообщения
- `/warn @username` - Выдать предупреждение
- `/tmute @username 30m` - Временное отключение сообщений (m = минуты, h = часы, d = дни)

### Полезные команды:

- `/mention_all` - Упомянуть всех пользователей в чате
- `/stats` - Статистика чата

## Обновление

Для обновления до последней версии выполните:

```bash
git pull
./termux_start.sh
```

## Устранение неполадок

### Не удается авторизоваться

Если вы видите ошибки при авторизации:

1. Проверьте правильность API ID и API Hash в файле `.env`
2. Попробуйте удалить файл сессии и запустить заново:
   ```bash
   rm -f userbot.session
   ./termux_start.sh
   ```

### Бот не запускается

1. Проверьте наличие интернет-соединения
2. Убедитесь, что установлены все зависимости:
   ```bash
   pip install telethon python-dotenv cryptg
   ```
3. Проверьте файл `.env` с правильными API ID и API Hash

### Сбои в работе

Если бот внезапно прекращает работу, запустите его с отладкой:

```bash
python console_run.py --debug
```

## Дополнительная информация

- Файл сессии `userbot.session` содержит данные вашего аккаунта. Не передавайте его другим людям!
- Бот работает от вашего аккаунта, поэтому будьте осторожны с командами модерации.
- Использование UserBot может нарушать правила Telegram. Используйте на свой страх и риск.